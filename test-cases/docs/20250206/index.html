<!DOCTYPE html><html lang="en" dir="ltr"><head>
<meta charset="utf8">
<meta name="generator" content="ReSpec 35.2.2">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
<title>RML-CC: Test Cases</title>
    
    
    
<style type="text/css">

        /* Adapted from R2RML */
        aside.ex-input,
        aside.ex-mapping,
        aside.ex-output {
            word-wrap:normal;
            margin-top: 1.5em;
            padding: 1em;
            font-size: 80%;
        }
        aside.ex-input:before,
        aside.ex-mapping:before,
        aside.ex-output:before {
            background: white;
            display: block;
            font-family: sans-serif;
            font-size: 90%;
            margin: -1.5em 0 0.5em 0;
            padding: 0.4em 0.4em;
            width: 18em;
        }
        /* Input data example */
        aside.ex-input {
            background: #cee;
        }
        aside.ex-input,
        aside.ex-input:before {
            border: 1px solid #acc;
            overflow: auto;
        }
        aside.ex-input:before {
            content: "Example input data";
        }
        /* RML mapping example */
        aside.ex-mapping {
            background: #eeb;
        }
        aside.ex-mapping,
        aside.ex-mapping:before {
            border: 1px solid #cc9;
            overflow: auto;
        }
        aside.ex-mapping:before {
            content: "Example RML mapping";
        }
        /* Output RDF example */
        aside.ex-output {
            background: #cfc;
        }
        aside.ex-output,
        aside.ex-output:before {
            border: 1px solid #aca;
            overflow: auto;
        }
        aside.ex-output:before {
            content: "Example output data";
        }
        table, th, td {
          background: white;
          border-collapse: collapse;
          border: 1px solid;
        }
        th, td {
          padding: 5px;
          text-align: left;
        }
        th {
          font-weight: bold;
        }
    
</style>
    

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="color-scheme" content="light">
<meta name="description" content="This document defines the RML-CC test cases to the determine the RML-CC specification conformance of tools.">
<style>
.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "preProcess": [
    null
  ],
  "authors": [
    {
      "name": "Dylan Van Assche",
      "url": "https://dylanvanassche.be",
      "company": "IDLab &ndash; Ghent University &ndash; imec",
      "orcid": "https://orcid.org/0000-0002-7195-9935",
      "companyURL": "https://knows.idlab.ugent.be/"
    }
  ],
  "edDraftURI": "https://w3id.org/rml/cc/test-cases/",
  "editors": [
    {
      "name": "Dylan Van Assche",
      "url": "https://dylanvanassche.be",
      "company": "IDLab &ndash; Ghent University &ndash; imec",
      "orcid": "https://orcid.org/0000-0002-7195-9935",
      "companyURL": "https://knows.idlab.ugent.be/"
    }
  ],
  "formerEditors": [],
  "github": "https://github.com/kg-construct/rml-cc",
  "license": "w3c-software-doc",
  "localBiblio": {
    "RML-Core": {
      "title": "RML-Core",
      "href": "https://w3id.org/rml/core/spec",
      "status": "Draft Community Group Report",
      "publisher": "W3C",
      "date": "07 August 2024"
    },
    "RML-IO": {
      "title": "RML-IO",
      "href": "https://w3id.org/rml/io/spec",
      "status": "Draft Community Group Report",
      "publisher": "W3C",
      "date": "12 March 2024"
    }
  },
  "otherLinks": [],
  "shortName": "RML-CC-Testcases",
  "specStatus": "CG-DRAFT",
  "copyrightStart": "2024",
  "doJsonLd": true,
  "group": "kg-construct",
  "publishISODate": "2025-02-06T00:00:00.000Z",
  "generatedSubtitle": "Draft Community Group Report 06 February 2025"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/cg-draft"></head>

<body class="h-entry informative"><div class="head">
    
    <h1 id="title" class="title">RML-CC: Test Cases</h1> 
    <p id="w3c-state">
      <a href="https://www.w3.org/standards/types#reports">Draft Community Group Report</a>
      <time class="dt-published" datetime="2025-02-06">06 February 2025</time>
    </p>
    <dl>
      
      <dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/RML-CC-Testcases/">https://www.w3.org/RML-CC-Testcases/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3id.org/rml/cc/test-cases/">https://w3id.org/rml/cc/test-cases/</a></dd>
      
      
      
      
      <dt>Editor:</dt><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://dylanvanassche.be">Dylan Van Assche</a><a class="p-name orcid" href="https://orcid.org/0000-0002-7195-9935"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
    <style>

      .st1 {
        fill: #fff;
      }
    
</style>
    <path d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z" fill="#a6ce39"></path>
    <path class="st1" d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"></path>
  </svg></a> (<a class="p-org org h-org" href="https://knows.idlab.ugent.be/">IDLab – Ghent University – imec</a>)
  </dd>
      
      <dt>Author:</dt><dd class="editor p-author h-card vcard">
    <a class="u-url url p-name fn" href="https://dylanvanassche.be">Dylan Van Assche</a><a class="p-name orcid" href="https://orcid.org/0000-0002-7195-9935"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
    <style>

      .st1 {
        fill: #fff;
      }
    
</style>
    <path d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z" fill="#a6ce39"></path>
    <path class="st1" d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"></path>
  </svg></a> (<a class="p-org org h-org" href="https://knows.idlab.ugent.be/">IDLab – Ghent University – imec</a>)
  </dd>
      <dt>Feedback:</dt><dd>
        <a href="https://github.com/kg-construct/rml-cc/">GitHub kg-construct/rml-cc</a>
        (<a href="https://github.com/kg-construct/rml-cc/pulls/">pull requests</a>,
        <a href="https://github.com/kg-construct/rml-cc/issues/new/choose">new issue</a>,
        <a href="https://github.com/kg-construct/rml-cc/issues/">open issues</a>)
      </dd>
      
    </dl>
    
    <p class="copyright">
          <a href="https://www.w3.org/policies/#copyright">Copyright</a>
          ©
          2024-2025
          
          the Contributors to the RML-CC: Test Cases
          Specification, published by the
          <a href="https://www.w3.org/groups/cg/kg-construct">Knowledge Graph Construction Community Group</a> under the
          <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>. A human-readable
                <a href="https://www.w3.org/community/about/agreements/cla-deed/">summary</a>
                is available.
              
        </p>
    <hr title="Separator for header">
  </div>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>

<section id="abstract" class="introductory"><h2>Abstract</h2><p>This document defines the RML-CC test cases to the determine the RML-CC specification conformance of tools.</p>
</section>

<section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This specification was published by the
      <a href="https://www.w3.org/groups/cg/kg-construct">Knowledge Graph Construction Community Group</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>
            there is a limited opt-out and other conditions apply.
          
      Learn more about
      <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>.
    </p><p>
    <a href="https://github.com/kg-construct/rml-cc/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    
  </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#data-model"><bdi class="secno">2. </bdi>Data model</a></li><li class="tocline"><a class="tocxref" href="#test-cases"><bdi class="secno">3. </bdi>Test cases</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0001-Alt"><bdi class="secno">4. </bdi>RMLTC-CC-0001-Alt</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0001-Bag"><bdi class="secno">5. </bdi>RMLTC-CC-0001-Bag</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0001-List"><bdi class="secno">6. </bdi>RMLTC-CC-0001-List</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0001-Seq"><bdi class="secno">7. </bdi>RMLTC-CC-0001-Seq</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0002-Bag"><bdi class="secno">8. </bdi>RMLTC-CC-0002-Bag</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0002-List"><bdi class="secno">9. </bdi>RMLTC-CC-0002-List</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0003-EB"><bdi class="secno">10. </bdi>RMLTC-CC-0003-EB</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0003-EL"><bdi class="secno">11. </bdi>RMLTC-CC-0003-EL</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0003-NEB"><bdi class="secno">12. </bdi>RMLTC-CC-0003-NEB</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0003-NEL"><bdi class="secno">13. </bdi>RMLTC-CC-0003-NEL</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0003-NELb"><bdi class="secno">14. </bdi>RMLTC-CC-0003-NELb</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0004-SM1"><bdi class="secno">15. </bdi>RMLTC-CC-0004-SM1</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0004-SM2"><bdi class="secno">16. </bdi>RMLTC-CC-0004-SM2</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0004-SM3"><bdi class="secno">17. </bdi>RMLTC-CC-0004-SM3</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0004-SM4"><bdi class="secno">18. </bdi>RMLTC-CC-0004-SM4</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0004-SM5"><bdi class="secno">19. </bdi>RMLTC-CC-0004-SM5</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0005-App1"><bdi class="secno">20. </bdi>RMLTC-CC-0005-App1</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0005-App2"><bdi class="secno">21. </bdi>RMLTC-CC-0005-App2</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0005-Car1"><bdi class="secno">22. </bdi>RMLTC-CC-0005-Car1</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0005-Car2"><bdi class="secno">23. </bdi>RMLTC-CC-0005-Car2</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0006-IT0"><bdi class="secno">24. </bdi>RMLTC-CC-0006-IT0</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0006-IT1"><bdi class="secno">25. </bdi>RMLTC-CC-0006-IT1</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0006-IT2"><bdi class="secno">26. </bdi>RMLTC-CC-0006-IT2</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0007-NES"><bdi class="secno">27. </bdi>RMLTC-CC-0007-NES</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0008-ROMa"><bdi class="secno">28. </bdi>RMLTC-CC-0008-ROMa</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0008-ROMb"><bdi class="secno">29. </bdi>RMLTC-CC-0008-ROMb</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0009-DUP-Bag"><bdi class="secno">30. </bdi>RMLTC-CC-0009-DUP-Bag</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0009-DUP-List"><bdi class="secno">31. </bdi>RMLTC-CC-0009-DUP-List</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0010-Lista"><bdi class="secno">32. </bdi>RMLTC-CC-0010-Lista</a></li><li class="tocline"><a class="tocxref" href="#RMLTC-CC-0010-Listb"><bdi class="secno">33. </bdi>RMLTC-CC-0010-Listb</a></li></ol></nav>

<section id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div>
<p>This document defines the RML-CC test cases, consisting of a collection of test case documents (input and expected output).
The purpose of the test cases is to determine the conformance of tools that execute RML rules to the RML-CC specification.</p>
</section>

<section id="data-model"><div class="header-wrapper"><h2 id="x2-data-model"><bdi class="secno">2. </bdi>Data model</h2><a class="self-link" href="#data-model" aria-label="Permalink for Section 2."></a></div>
<p>The test cases are semantically described for re-usability and shareability following the <a href="https://www.w3.org/2006/03/test-description">W3C Test case description</a>.
Each <code>test:Testcase</code> as the following properties:</p>
<ul>
<li><code>dcterms:identifier</code>: unique ID of the test case.</li>
<li><code>rmltest:hasError</code>: if an error of the RML Processor is expected or not.</li>
<li><code>rmltest:input</code>: One or more input data of the test case.</li>
<li><code>rmltest:output</code>: One or more output data of the test case.</li>
<li><code>rmltest:inputFormat</code>: the input data format.</li>
<li><code>rmltest:outputFormat</code>: the output data format.</li>
<li><code>rmltest:mappingDocument</code>: the RML mapping rules in Turtle.</li>
</ul>
</section>

<section id="test-cases"><div class="header-wrapper"><h2 id="x3-test-cases"><bdi class="secno">3. </bdi>Test cases</h2><a class="self-link" href="#test-cases" aria-label="Permalink for Section 3."></a></div>
<p>This section describes the RML-CC test cases. These descriptions are also available as RDF.
The files are available on <a href="https://github.com/kg-construct/rml-cc/tree/main/test-cases">GitHub</a> in the folder <code>test-cases</code>.
Each test case is contained in a single folder, containing three types of files:</p>
<ul>
<li>Zero or more files containing the data sources, in the case of JSON, XML, CSV, or containing the SQL statements to create the necessary tables, in the case of MySQL, PostgreSQL, and SQL Server.</li>
<li>One file with the RML rules, called <code>mapping.ttl</code>, in the Turtle format.</li>
<li>Zero or more files with the expected RDF. No file is provided if an error is expected that must halt the generation of the RDF because of an error.</li>
</ul>
</section>


<section id="RMLTC-CC-0001-Alt"><div class="header-wrapper"><h2 id="x4-rmltc-cc-0001-alt"><bdi class="secno">4. </bdi>RMLTC-CC-0001-Alt</h2><a class="self-link" href="#RMLTC-CC-0001-Alt" aria-label="Permalink for Section 4."></a></div>
<p><strong>Title</strong>: Generate a rdf:Alt as an object</p>
<p><strong>Description</strong>: Tests if a rdf:Alt is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Alt/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Alt/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Alt ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b1 .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Alt&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"3"</span> .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b2 .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Alt&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"4"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"5"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"6"</span> .

&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b3 .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Alt&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"7"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"8"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"9"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0001-Bag"><div class="header-wrapper"><h2 id="x5-rmltc-cc-0001-bag"><bdi class="secno">5. </bdi>RMLTC-CC-0001-Bag</h2><a class="self-link" href="#RMLTC-CC-0001-Bag" aria-label="Permalink for Section 5."></a></div>
<p><strong>Title</strong>: Generate a rdf:Bag as an object</p>
<p><strong>Description</strong>: Tests if a rdf:Bag is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Bag/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Bag/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Bag ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"5"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"9"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b2 .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b3 .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b1 .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"4"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"7"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"6"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"3"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"8"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0001-List"><div class="header-wrapper"><h2 id="x6-rmltc-cc-0001-list"><bdi class="secno">6. </bdi>RMLTC-CC-0001-List</h2><a class="self-link" href="#RMLTC-CC-0001-List" aria-label="Permalink for Section 6."></a></div>
<p><strong>Title</strong>: Generate a rdf:List as an object</p>
<p><strong>Description</strong>: Tests if a rdf:List is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-List/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-List/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab1 .
_:n988e0f11d19c486fa3b3255f94c9b3bab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab2 .
_:n988e0f11d19c486fa3b3255f94c9b3bab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab3 .
_:n988e0f11d19c486fa3b3255f94c9b3bab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab4 .
_:n988e0f11d19c486fa3b3255f94c9b3bab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab5 .
_:n988e0f11d19c486fa3b3255f94c9b3bab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"5"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab6 .
_:n988e0f11d19c486fa3b3255f94c9b3bab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab7 .
_:n988e0f11d19c486fa3b3255f94c9b3bab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"7"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab8 .
_:n988e0f11d19c486fa3b3255f94c9b3bab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"8"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab9 .
_:n988e0f11d19c486fa3b3255f94c9b3bab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"9"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0001-Seq"><div class="header-wrapper"><h2 id="x7-rmltc-cc-0001-seq"><bdi class="secno">7. </bdi>RMLTC-CC-0001-Seq</h2><a class="self-link" href="#RMLTC-CC-0001-Seq" aria-label="Permalink for Section 7."></a></div>
<p><strong>Title</strong>: Generate a rdf:Seq as an object</p>
<p><strong>Description</strong>: Tests if a rdf:Seq is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Seq/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0001-Seq/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Seq ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Seq&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"5"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Seq&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Seq&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"9"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b2 .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b3 .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b1 .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"4"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"7"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"6"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"3"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"8"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0002-Bag"><div class="header-wrapper"><h2 id="x8-rmltc-cc-0002-bag"><bdi class="secno">8. </bdi>RMLTC-CC-0002-Bag</h2><a class="self-link" href="#RMLTC-CC-0002-Bag" aria-label="Permalink for Section 8."></a></div>
<p><strong>Title</strong>: Generate a named rdf:Bag as an object</p>
<p><strong>Description</strong>: Tests if a named rdf:Bag is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0002-Bag/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0002-Bag/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:template <span class="hljs-string">"c/{$.id}"</span> ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Bag ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"7"</span> .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"8"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/c&gt; .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"6"</span> .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/a&gt; .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"9"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"3"</span> .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"4"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/b&gt; .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"5"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0002-List"><div class="header-wrapper"><h2 id="x9-rmltc-cc-0002-list"><bdi class="secno">9. </bdi>RMLTC-CC-0002-List</h2><a class="self-link" href="#RMLTC-CC-0002-List" aria-label="Permalink for Section 9."></a></div>
<p><strong>Title</strong>: Generate a named rdf:List as an object</p>
<p><strong>Description</strong>: Tests if a named rdf:List is generated as an object</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0002-List/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0002-List/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:template <span class="hljs-string">"c/{$.id}"</span> ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:nb73dd869d6bb47a5b865ee632fe27453b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b2 .
&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/c&gt; .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"7"</span> .
_:nb73dd869d6bb47a5b865ee632fe27453b5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"8"</span> .
_:nb73dd869d6bb47a5b865ee632fe27453b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b4 .
_:nb73dd869d6bb47a5b865ee632fe27453b6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/a&gt; .
_:nb73dd869d6bb47a5b865ee632fe27453b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"5"</span> .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b3 .
_:nb73dd869d6bb47a5b865ee632fe27453b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:nb73dd869d6bb47a5b865ee632fe27453b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:nb73dd869d6bb47a5b865ee632fe27453b5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b6 .
_:nb73dd869d6bb47a5b865ee632fe27453b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:nb73dd869d6bb47a5b865ee632fe27453b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nb73dd869d6bb47a5b865ee632fe27453b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b1 .
&lt;http://example.com/base/c/c&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nb73dd869d6bb47a5b865ee632fe27453b5 .
_:nb73dd869d6bb47a5b865ee632fe27453b6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"9"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/b&gt; .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0003-EB"><div class="header-wrapper"><h2 id="x10-rmltc-cc-0003-eb"><bdi class="secno">10. </bdi>RMLTC-CC-0003-EB</h2><a class="self-link" href="#RMLTC-CC-0003-EB" aria-label="Permalink for Section 10."></a></div>
<p><strong>Title</strong>: Allow the generation of empty bags</p>
<p><strong>Description</strong>: Tests if the use of rml:allowTemptyListAndContainer yields an empty bag.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-EB/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-EB/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:allowEmptyListAndContainer true ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Bag ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:nfecac3cfe48c4afa99539cc809138e96b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfecac3cfe48c4afa99539cc809138e96b1 .
_:nfecac3cfe48c4afa99539cc809138e96b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nfecac3cfe48c4afa99539cc809138e96b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nfecac3cfe48c4afa99539cc809138e96b2 .
_:nfecac3cfe48c4afa99539cc809138e96b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
_:nfecac3cfe48c4afa99539cc809138e96b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"3"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0003-EL"><div class="header-wrapper"><h2 id="x11-rmltc-cc-0003-el"><bdi class="secno">11. </bdi>RMLTC-CC-0003-EL</h2><a class="self-link" href="#RMLTC-CC-0003-EL" aria-label="Permalink for Section 11."></a></div>
<p><strong>Title</strong>: Allow the generation of empty lists</p>
<p><strong>Description</strong>: Tests if the use of rml:allowTemptyListAndContainer yields an empty list.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-EL/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-EL/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:allowEmptyListAndContainer true ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:n302eecc856b44ed5b76965d9be2f5213b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:n302eecc856b44ed5b76965d9be2f5213b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b3 .
_:n302eecc856b44ed5b76965d9be2f5213b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n302eecc856b44ed5b76965d9be2f5213b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
_:n302eecc856b44ed5b76965d9be2f5213b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b2 .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n302eecc856b44ed5b76965d9be2f5213b1 .
_:n302eecc856b44ed5b76965d9be2f5213b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0003-NEB"><div class="header-wrapper"><h2 id="x12-rmltc-cc-0003-neb"><bdi class="secno">12. </bdi>RMLTC-CC-0003-NEB</h2><a class="self-link" href="#RMLTC-CC-0003-NEB" aria-label="Permalink for Section 12."></a></div>
<p><strong>Title</strong>: Empty bags are not generated</p>
<p><strong>Description</strong>: Tests if empty containers are not generated (expected default behavior).</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NEB/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NEB/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Bag ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript">&lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n2bd72de9c571444081890e41009d92d4b1 .</span>
<span class="hljs-attr">_</span>:n2bd72de9c571444081890e41009d92d4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_3&gt; "3" .</span>
<span class="hljs-attr">_</span>:n2bd72de9c571444081890e41009d92d4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:n2bd72de9c571444081890e41009d92d4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "2" .</span>
<span class="hljs-attr">_</span>:n2bd72de9c571444081890e41009d92d4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "1" .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0003-NEL"><div class="header-wrapper"><h2 id="x13-rmltc-cc-0003-nel"><bdi class="secno">13. </bdi>RMLTC-CC-0003-NEL</h2><a class="self-link" href="#RMLTC-CC-0003-NEL" aria-label="Permalink for Section 13."></a></div>
<p><strong>Title</strong>: Empty lists are not generated</p>
<p><strong>Description</strong>: Tests if empty lists are not generated (expected default behavior).</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NEL/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NEL/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:n434c2c54e09e4a259604ba1188ce038fb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n434c2c54e09e4a259604ba1188ce038fb2 .
_:n434c2c54e09e4a259604ba1188ce038fb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:n434c2c54e09e4a259604ba1188ce038fb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n434c2c54e09e4a259604ba1188ce038fb1 .
_:n434c2c54e09e4a259604ba1188ce038fb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n434c2c54e09e4a259604ba1188ce038fb3 .
_:n434c2c54e09e4a259604ba1188ce038fb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n434c2c54e09e4a259604ba1188ce038fb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0003-NELb"><div class="header-wrapper"><h2 id="x14-rmltc-cc-0003-nelb"><bdi class="secno">14. </bdi>RMLTC-CC-0003-NELb</h2><a class="self-link" href="#RMLTC-CC-0003-NELb" aria-label="Permalink for Section 14."></a></div>
<p><strong>Title</strong>: Empty lists are not generated II</p>
<p><strong>Description</strong>: Tests if empty lists are not generated (expected default behavior). This test cases uses the predicate rml:allowEmptyListAndContainer.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NELb/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0003-NELb/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:allowEmptyListAndContainer false ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:n434c2c54e09e4a259604ba1188ce038fb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n434c2c54e09e4a259604ba1188ce038fb2 .
_:n434c2c54e09e4a259604ba1188ce038fb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:n434c2c54e09e4a259604ba1188ce038fb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n434c2c54e09e4a259604ba1188ce038fb1 .
_:n434c2c54e09e4a259604ba1188ce038fb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n434c2c54e09e4a259604ba1188ce038fb3 .
_:n434c2c54e09e4a259604ba1188ce038fb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n434c2c54e09e4a259604ba1188ce038fb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0004-SM1"><div class="header-wrapper"><h2 id="x15-rmltc-cc-0004-sm1"><bdi class="secno">15. </bdi>RMLTC-CC-0004-SM1</h2><a class="self-link" href="#RMLTC-CC-0004-SM1" aria-label="Permalink for Section 15."></a></div>
<p><strong>Title</strong>: GatherMap in subject map (list)</p>
<p><strong>Description</strong>: Tests if the use of a gather map in the subject map is supported. This test generates a list.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM1/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM1/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
        rml:gatherAs rdf:List ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:createdBy ;
        rml:object ex:JohnDoe ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/ns#createdBy&gt; &lt;http://example.com/ns#JohnDoe&gt; .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b2 .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b3 .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/ns#createdBy&gt; &lt;http://example.com/ns#JohnDoe&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "4" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d393f12e993411498da676131f81ca4b2 .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "5" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d393f12e993411498da676131f81ca4b3 .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "6" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0004-SM2"><div class="header-wrapper"><h2 id="x16-rmltc-cc-0004-sm2"><bdi class="secno">16. </bdi>RMLTC-CC-0004-SM2</h2><a class="self-link" href="#RMLTC-CC-0004-SM2" aria-label="Permalink for Section 16."></a></div>
<p><strong>Title</strong>: GatherMap in subject map (list)</p>
<p><strong>Description</strong>: Tests if the use of a gather map in the subject map is supported. This test has no predicate-object maps and no class declarations in the subject map. It still needs to generate triples as the lists consists of at least one cons-pair.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM2/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM2/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
        rml:gatherAs rdf:List ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b2 .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n302eecc856b44ed5b76965d9be2f5213b3 .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" .</span>
<span class="hljs-attr">_</span>:n302eecc856b44ed5b76965d9be2f5213b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "4" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d393f12e993411498da676131f81ca4b2 .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "5" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d393f12e993411498da676131f81ca4b3 .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "6" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0004-SM3"><div class="header-wrapper"><h2 id="x17-rmltc-cc-0004-sm3"><bdi class="secno">17. </bdi>RMLTC-CC-0004-SM3</h2><a class="self-link" href="#RMLTC-CC-0004-SM3" aria-label="Permalink for Section 17."></a></div>
<p><strong>Title</strong>: GatherMap in subject map (list)</p>
<p><strong>Description</strong>: Tests if the use of a gather map in the subject map is supported. This test has no predicate-object maps and no class declarations in the subject map. Only one list needs to be generated as the other has no values and we only retain non-empty lists. </p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM3/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM3/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
        rml:gatherAs rdf:List ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" .</span>
<span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n648f8cf4c58149e8a0feea26fb2a5b5bb2 .</span>
<span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" .</span>
<span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n648f8cf4c58149e8a0feea26fb2a5b5bb3 .</span>
<span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" .</span>
<span class="hljs-attr">_</span>:n648f8cf4c58149e8a0feea26fb2a5b5bb3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0004-SM4"><div class="header-wrapper"><h2 id="x18-rmltc-cc-0004-sm4"><bdi class="secno">18. </bdi>RMLTC-CC-0004-SM4</h2><a class="self-link" href="#RMLTC-CC-0004-SM4" aria-label="Permalink for Section 18."></a></div>
<p><strong>Title</strong>: GatherMap in subject map (bag)</p>
<p><strong>Description</strong>: Tests if the use of a gather map in the subject map is supported. This test generates a bag.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM4/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM4/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
        rml:gatherAs rdf:Bag ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:createdBy ;
        rml:object ex:JohnDoe ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "2" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "5" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "1" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/ns#createdBy&gt; &lt;http://example.com/ns#JohnDoe&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_3&gt; "3" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "4" .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/ns#createdBy&gt; &lt;http://example.com/ns#JohnDoe&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:n1d393f12e993411498da676131f81ca4b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_3&gt; "6" .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0004-SM5"><div class="header-wrapper"><h2 id="x19-rmltc-cc-0004-sm5"><bdi class="secno">19. </bdi>RMLTC-CC-0004-SM5</h2><a class="self-link" href="#RMLTC-CC-0004-SM5" aria-label="Permalink for Section 19."></a></div>
<p><strong>Title</strong>: GatherMap in subject map (bag)</p>
<p><strong>Description</strong>: Tests if the use of a gather map in the subject map is supported. This test has no predicate-object maps and no class declarations in the subject map. It should generate a non-empty bag and an empty bag. The reason being that a container has at least one triple ; it's type (bag, seq, or alt).</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM5/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0004-SM5/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
        rml:gatherAs rdf:Bag ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:ne32066984b71404a953025d001cd3cdfb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:ne32066984b71404a953025d001cd3cdfb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "2" .</span>
<span class="hljs-attr">_</span>:ne32066984b71404a953025d001cd3cdfb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "1" .</span>
<span class="hljs-attr">_</span>:ne32066984b71404a953025d001cd3cdfb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_3&gt; "3" .</span>
</code></pre>
</section>
<section id="RMLTC-CC-0005-App1"><div class="header-wrapper"><h2 id="x20-rmltc-cc-0005-app1"><bdi class="secno">20. </bdi>RMLTC-CC-0005-App1</h2><a class="self-link" href="#RMLTC-CC-0005-App1" aria-label="Permalink for Section 20."></a></div>
<p><strong>Title</strong>: Append values of multiple term maps</p>
<p><strong>Description</strong>: Tests appending of values from multiple term maps in an gather map. This test covers the case where all sets of values are non-empty.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-App1/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-App1/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] <span class="hljs-selector-attr">[ rml:reference <span class="hljs-string">"$.v2.*"</span> ; ]</span> ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript">&lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b1 .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b2 .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b4 .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b4 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "a" .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b4 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b5 .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "b" .</span>
<span class="hljs-attr">_</span>:n1ee4a5a2b1344422919d171ab2cd6c39b5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
<span class="language-xml">&lt;http://example.com/base/e/b&gt;</span> &lt;http://example.com/ns#with&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b6 .
_:n1ee4a5a2b1344422919d171ab2cd6c39b6 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" .
_:n1ee4a5a2b1344422919d171ab2cd6c39b6 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b7 .
_:n1ee4a5a2b1344422919d171ab2cd6c39b7 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "4" .
_:n1ee4a5a2b1344422919d171ab2cd6c39b7 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1ee4a5a2b1344422919d171ab2cd6c39b8 .
_:n1ee4a5a2b1344422919d171ab2cd6c39b8 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "c" .
_:n1ee4a5a2b1344422919d171ab2cd6c39b8 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0005-App2"><div class="header-wrapper"><h2 id="x21-rmltc-cc-0005-app2"><bdi class="secno">21. </bdi>RMLTC-CC-0005-App2</h2><a class="self-link" href="#RMLTC-CC-0005-App2" aria-label="Permalink for Section 21."></a></div>
<p><strong>Title</strong>: Append values of multiple term maps</p>
<p><strong>Description</strong>: Tests appending of values from multiple term maps in an iteration. In this example, one of the arrays is empty and the expected behavior is to concatinate a list with the empty list.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-App2/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-App2/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] <span class="hljs-selector-attr">[ rml:reference <span class="hljs-string">"$.v2.*"</span> ; ]</span> ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab2 .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "b" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab4 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab5 .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab4 .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab7 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "5" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab8 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "6" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab8 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab3 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab4 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "a" .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab3 .</span>
<span class="hljs-attr">_</span>:n1d9b8ef217cb44f299a062d746116deab1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" .</span>
<span class="language-xml">&lt;http://example.com/base/e/a&gt;</span> &lt;http://example.com/ns#with&gt; _:n1d9b8ef217cb44f299a062d746116deab1 .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:n1d9b8ef217cb44f299a062d746116deab6 .
_:n1d9b8ef217cb44f299a062d746116deab7 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab8 .
_:n1d9b8ef217cb44f299a062d746116deab6 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:n1d9b8ef217cb44f299a062d746116deab7 .
_:n1d9b8ef217cb44f299a062d746116deab6 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "4" .
</code></pre>
</section>
<section id="RMLTC-CC-0005-Car1"><div class="header-wrapper"><h2 id="x22-rmltc-cc-0005-car1"><bdi class="secno">22. </bdi>RMLTC-CC-0005-Car1</h2><a class="self-link" href="#RMLTC-CC-0005-Car1" aria-label="Permalink for Section 22."></a></div>
<p><strong>Title</strong>: Cartesian product of values from multiple term maps of a gather map.</p>
<p><strong>Description</strong>: Tests generating the Cartesian product of values from multiple term maps in a gather map. This test covers the case where all sets of values are non-empty.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-Car1/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-Car1/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] <span class="hljs-selector-attr">[ rml:reference <span class="hljs-string">"$.v2.*"</span> ; ]</span> ) ;
            rml:gatherAs rdf:List ;
            rml:strategy rml:cartesianProduct ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb1 .
_:nfc398e5692654ca98dfb3fb5432d277cb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb2 .
_:nfc398e5692654ca98dfb3fb5432d277cb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:nfc398e5692654ca98dfb3fb5432d277cb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"a"</span> .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb3 .
_:nfc398e5692654ca98dfb3fb5432d277cb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb4 .
_:nfc398e5692654ca98dfb3fb5432d277cb4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"b"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb5 .
_:nfc398e5692654ca98dfb3fb5432d277cb5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb6 .
_:nfc398e5692654ca98dfb3fb5432d277cb6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"a"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb7 .
_:nfc398e5692654ca98dfb3fb5432d277cb7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb8 .
_:nfc398e5692654ca98dfb3fb5432d277cb8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"b"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb9 .
_:nfc398e5692654ca98dfb3fb5432d277cb9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb10 .
_:nfc398e5692654ca98dfb3fb5432d277cb10 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"c"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb10 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb11 .
_:nfc398e5692654ca98dfb3fb5432d277cb11 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb11 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb12 .
_:nfc398e5692654ca98dfb3fb5432d277cb12 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"c"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb12 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0005-Car2"><div class="header-wrapper"><h2 id="x23-rmltc-cc-0005-car2"><bdi class="secno">23. </bdi>RMLTC-CC-0005-Car2</h2><a class="self-link" href="#RMLTC-CC-0005-Car2" aria-label="Permalink for Section 23."></a></div>
<p><strong>Title</strong>: Cartesian product of values from multiple term maps of a gather map.</p>
<p><strong>Description</strong>: Tests generating the Cartesian product of values from multiple term maps in a gather map. This test covers the case where one of the sets is empty. The Cartesian product of a set with an empty set is empty. This entry should thus not yield a list.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-Car2/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0005-Car2/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] <span class="hljs-selector-attr">[ rml:reference <span class="hljs-string">"$.v2.*"</span> ; ]</span> ) ;
            rml:gatherAs rdf:List ;
            rml:strategy rml:cartesianProduct ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb1 .
_:nfc398e5692654ca98dfb3fb5432d277cb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb2 .
_:nfc398e5692654ca98dfb3fb5432d277cb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
_:nfc398e5692654ca98dfb3fb5432d277cb2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"a"</span> .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb3 .
_:nfc398e5692654ca98dfb3fb5432d277cb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb4 .
_:nfc398e5692654ca98dfb3fb5432d277cb4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"b"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb5 .
_:nfc398e5692654ca98dfb3fb5432d277cb5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb6 .
_:nfc398e5692654ca98dfb3fb5432d277cb6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"a"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nfc398e5692654ca98dfb3fb5432d277cb7 .
_:nfc398e5692654ca98dfb3fb5432d277cb7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nfc398e5692654ca98dfb3fb5432d277cb8 .
_:nfc398e5692654ca98dfb3fb5432d277cb8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"b"</span> .
_:nfc398e5692654ca98dfb3fb5432d277cb8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0006-IT0"><div class="header-wrapper"><h2 id="x24-rmltc-cc-0006-it0"><bdi class="secno">24. </bdi>RMLTC-CC-0006-IT0</h2><a class="self-link" href="#RMLTC-CC-0006-IT0" aria-label="Permalink for Section 24."></a></div>
<p><strong>Title</strong>: Gather values accross iterations.</p>
<p><strong>Description</strong>: When no template, constant, or reference is given to a gather map, then each iteration yields a different collection or container.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT0/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT0/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b1 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b2 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b5 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b6 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b3 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"5"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n9d785cd672d3484cb5d9fd831e6dfc07b4 .
_:n9d785cd672d3484cb5d9fd831e6dfc07b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:n9d785cd672d3484cb5d9fd831e6dfc07b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0006-IT1"><div class="header-wrapper"><h2 id="x25-rmltc-cc-0006-it1"><bdi class="secno">25. </bdi>RMLTC-CC-0006-IT1</h2><a class="self-link" href="#RMLTC-CC-0006-IT1" aria-label="Permalink for Section 25."></a></div>
<p><strong>Title</strong>: Gather values accross iterations.</p>
<p><strong>Description</strong>: When using a template, constant, or reference for a gather map, this tests determines whether the values are correctly appended to the list. The natural order of the term maps inside the gather map as well as the iteration are respected. This test covers one term map in the gather map.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT1/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT1/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:template <span class="hljs-string">"c/{$.id}"</span> ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/a&gt; .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nab8f496caee443c5ac19ce3a109f4b22b1 .
_:nab8f496caee443c5ac19ce3a109f4b22b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:nab8f496caee443c5ac19ce3a109f4b22b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nab8f496caee443c5ac19ce3a109f4b22b2 .
_:nab8f496caee443c5ac19ce3a109f4b22b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"5"</span> .
_:nab8f496caee443c5ac19ce3a109f4b22b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nab8f496caee443c5ac19ce3a109f4b22b3 .
_:nab8f496caee443c5ac19ce3a109f4b22b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:nab8f496caee443c5ac19ce3a109f4b22b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/b&gt; .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:nab8f496caee443c5ac19ce3a109f4b22b4 .
_:nab8f496caee443c5ac19ce3a109f4b22b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
_:nab8f496caee443c5ac19ce3a109f4b22b4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0006-IT2"><div class="header-wrapper"><h2 id="x26-rmltc-cc-0006-it2"><bdi class="secno">26. </bdi>RMLTC-CC-0006-IT2</h2><a class="self-link" href="#RMLTC-CC-0006-IT2" aria-label="Permalink for Section 26."></a></div>
<p><strong>Title</strong>: Gather values accross iterations.</p>
<p><strong>Description</strong>: When using a template, constant, or reference for a gather map, this tests determines whether the values are correctly appended to the list. The natural order of the term maps inside the gather map as well as the iteration are respected. This test covers two term maps in the gather map.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT2/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0006-IT2/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:template <span class="hljs-string">"c/{$.id}"</span> ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.v1.*"</span> ; ] <span class="hljs-selector-attr">[ rml:reference <span class="hljs-string">"$.v2.*"</span> ; ]</span> ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/a&gt; .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/c/a&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab1 .
_:n0cbb21ce98464358963007f95dc35c0ab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab2 .
_:n0cbb21ce98464358963007f95dc35c0ab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"a"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab3 .
_:n0cbb21ce98464358963007f95dc35c0ab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"b"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab4 .
_:n0cbb21ce98464358963007f95dc35c0ab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"5"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab5 .
_:n0cbb21ce98464358963007f95dc35c0ab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab6 .
_:n0cbb21ce98464358963007f95dc35c0ab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"d"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab7 .
_:n0cbb21ce98464358963007f95dc35c0ab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"e"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; &lt;http://example.com/base/c/b&gt; .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"3"</span> .
&lt;http://example.com/base/c/b&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab8 .
_:n0cbb21ce98464358963007f95dc35c0ab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"4"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n0cbb21ce98464358963007f95dc35c0ab9 .
_:n0cbb21ce98464358963007f95dc35c0ab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"c"</span> .
_:n0cbb21ce98464358963007f95dc35c0ab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0007-NES"><div class="header-wrapper"><h2 id="x27-rmltc-cc-0007-nes"><bdi class="secno">27. </bdi>RMLTC-CC-0007-NES</h2><a class="self-link" href="#RMLTC-CC-0007-NES" aria-label="Permalink for Section 27."></a></div>
<p><strong>Title</strong>: Nested gather maps</p>
<p><strong>Description</strong>: Testing whether nested gather maps are created. The mapping should generate a list of bags.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0007-NES/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0007-NES/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs">@prefix rml: &lt;http://w3id.org/rml/&gt;.
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;.
@prefix ex:  &lt;http://example.com/ns#&gt;.
@base        &lt;http://example.com/&gt;.

&lt;#TM&gt; a rml:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator "$.*" ;
    ] ;

    rml:subjectMap [
        rml:template "e/{$.id}" ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather (
                [
                    rml:gather ( [ rml:reference "$.v1.*" ; ] ) ;
                    rml:gatherAs rdf:Bag ;
                ]
                [
                    rml:gather ( [ rml:reference "$.v2.*" ; ] ) ;
                    rml:gatherAs rdf:Bag ;
                ]
            ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path "data.json" .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "1" .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "2" .</span>

<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "a" .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "b" .</span>

<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "3" .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb5 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_2&gt; "4" .</span>

<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb6 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag&gt; .</span>
<span class="hljs-attr">_</span>:nab9af1206e584ab2afd457e8a605872cb6 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#_1&gt; "c" .</span>

<span class="language-xml">&lt;http://example.com/base/e/a&gt;</span> &lt;http://example.com/ns#with&gt; _:nab9af1206e584ab2afd457e8a605872cb3 .
_:nab9af1206e584ab2afd457e8a605872cb3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; _:nab9af1206e584ab2afd457e8a605872cb1 .
_:nab9af1206e584ab2afd457e8a605872cb3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:nab9af1206e584ab2afd457e8a605872cb4 .

_:nab9af1206e584ab2afd457e8a605872cb4 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; _:nab9af1206e584ab2afd457e8a605872cb2 .
_:nab9af1206e584ab2afd457e8a605872cb4 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nab9af1206e584ab2afd457e8a605872cb7 .
_:nab9af1206e584ab2afd457e8a605872cb7 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; _:nab9af1206e584ab2afd457e8a605872cb5 .
_:nab9af1206e584ab2afd457e8a605872cb7 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:nab9af1206e584ab2afd457e8a605872cb8 .

_:nab9af1206e584ab2afd457e8a605872cb8 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; _:nab9af1206e584ab2afd457e8a605872cb6 .
_:nab9af1206e584ab2afd457e8a605872cb8 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .

</code></pre>
</section>
<section id="RMLTC-CC-0008-ROMa"><div class="header-wrapper"><h2 id="x28-rmltc-cc-0008-roma"><bdi class="secno">28. </bdi>RMLTC-CC-0008-ROMa</h2><a class="self-link" href="#RMLTC-CC-0008-ROMa" aria-label="Permalink for Section 28."></a></div>
<p><strong>Title</strong>: Elements via reference object-map.</p>
<p><strong>Description</strong>: Testing whether gather maps generate an RDF list whose members are generated by a referencing object-map.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0008-ROMa/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0008-ROMa/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">ex</span>: &lt;<span class="hljs-attribute">http</span>://example.com/&gt; .
@prefix <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt; .
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.

_:b273446 a <span class="hljs-attribute">rml</span>:RelativePathSource ;
    rml:path <span class="hljs-string">"student.csv"</span> .

&lt;http://example.com/base/TriplesMap1&gt; a rml:TriplesMap ;
    rml:logicalSource [ a rml:LogicalSource ;
            rml:referenceFormulation rml:CSV ;
            rml:source _:b273446 ] ;
            
    rml:predicateObjectMap [ 
        rml:objectMap [
                rml:reference <span class="hljs-string">"ID"</span> ; rml:termType rml:BlankNode ;
                rml:gather ( 
                    [ 
                        rml:parentTriplesMap &lt;http://example.com/base/TriplesMap1&gt; ;
                        rml:joinCondition [ rml:child <span class="hljs-string">"Sport"</span> ; rml:parent <span class="hljs-string">"Sport"</span> ] ;
                    ] 
                ) ;
                rml:gatherAs rdf:List;
            ] ;    
        rml:predicate ex:sameSportAs 
    ] ;

    rml:subjectMap [ rml:template <span class="hljs-string">"http://example.com/Student/{ID}/{Name}"</span> ] .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/10/Venus%20Williams&gt; .</span>
<span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:genid2 .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/20/Serena%20Williams&gt; .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
&lt;http://example.com/Student/10/Venus%20Williams&gt; &lt;http://example.com/sameSportAs&gt; _:genid1 .
_:genid3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/10/Venus%20Williams&gt; .
_:genid3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:genid4 .
_:genid4 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/20/Serena%20Williams&gt; .
_:genid4 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/Student/20/Serena%20Williams&gt; &lt;http://example.com/sameSportAs&gt; _:genid3 .
_:genid5 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/30/Loena%20Hendrickx&gt; .
_:genid5 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/Student/30/Loena%20Hendrickx&gt; &lt;http://example.com/sameSportAs&gt; _:genid5 .
</code></pre>
</section>
<section id="RMLTC-CC-0008-ROMb"><div class="header-wrapper"><h2 id="x29-rmltc-cc-0008-romb"><bdi class="secno">29. </bdi>RMLTC-CC-0008-ROMb</h2><a class="self-link" href="#RMLTC-CC-0008-ROMb" aria-label="Permalink for Section 29."></a></div>
<p><strong>Title</strong>: Elements via reference object-map with default join condition</p>
<p><strong>Description</strong>: Testing whether gather maps generate an RDF list whose members are generated by a referencing object-map with a default join condition.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0008-ROMb/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0008-ROMb/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">ex</span>: &lt;<span class="hljs-attribute">http</span>://example.com/&gt; .
@prefix <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt; .
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.

_:b273446 a <span class="hljs-attribute">rml</span>:RelativePathSource ;
    rml:path <span class="hljs-string">"student.csv"</span> .

&lt;http://example.com/base/TriplesMap1&gt; a rml:TriplesMap ;
    rml:logicalSource [ a rml:LogicalSource ;
            rml:referenceFormulation rml:CSV ;
            rml:source _:b273446 ] ;
            
    rml:predicateObjectMap [
        rml:objectMap [
            rml:reference <span class="hljs-string">"ID"</span> ; rml:termType rml:BlankNode ;
            rml:gather ( 
                [ 
                    rml:parentTriplesMap &lt;http://example.com/base/TriplesMap1&gt; ;
                ] 
            ) ;
            rml:gatherAs rdf:List;
        ] ;
        rml:predicate ex:sameSportAs 
    ] ;
        
    rml:subjectMap [ rml:template <span class="hljs-string">"http://example.com/Student/{ID}/{Name}"</span> ] .

</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/30/Loena%20Hendrickx&gt; .</span>
<span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .</span>
&lt;http://example.com/Student/30/Loena%20Hendrickx&gt; &lt;http://example.com/sameSportAs&gt; _:genid1 .
_:genid2 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/20/Serena%20Williams&gt; .
_:genid2 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/Student/20/Serena%20Williams&gt; &lt;http://example.com/sameSportAs&gt; _:genid2 .
_:genid3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; &lt;http://example.com/Student/10/Venus%20Williams&gt; .
_:genid3 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; .
&lt;http://example.com/Student/10/Venus%20Williams&gt; &lt;http://example.com/sameSportAs&gt; _:genid3 .
</code></pre>
</section>
<section id="RMLTC-CC-0009-DUP-Bag"><div class="header-wrapper"><h2 id="x30-rmltc-cc-0009-dup-bag"><bdi class="secno">30. </bdi>RMLTC-CC-0009-DUP-Bag</h2><a class="self-link" href="#RMLTC-CC-0009-DUP-Bag" aria-label="Permalink for Section 30."></a></div>
<p><strong>Title</strong>: Gather duplicate values in an RDF Bag</p>
<p><strong>Description</strong>: Testing the expected behavior of multi-valued expression maps containing duplicate values when these expression maps are used in a gather map to create an RDF Bag.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0009-DUP-Bag/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0009-DUP-Bag/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:Bag ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"2"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#Bag&gt; .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"9"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b2 .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"1"</span> .
&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b3 .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:nc808fbd2e11a4baa939c61c8210b5909b1 .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"2"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_1&gt; <span class="hljs-string">"7"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"6"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_3&gt; <span class="hljs-string">"1"</span> .
_:nc808fbd2e11a4baa939c61c8210b5909b3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#_2&gt; <span class="hljs-string">"8"</span> .
</code></pre>
</section>
<section id="RMLTC-CC-0009-DUP-List"><div class="header-wrapper"><h2 id="x31-rmltc-cc-0009-dup-list"><bdi class="secno">31. </bdi>RMLTC-CC-0009-DUP-List</h2><a class="self-link" href="#RMLTC-CC-0009-DUP-List" aria-label="Permalink for Section 31."></a></div>
<p><strong>Title</strong>: Gather duplicate values in an RDF List</p>
<p><strong>Description</strong>: Testing the expected behavior of multi-valued expression maps containing duplicate values when these expression maps are used in a gather map to create a list.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0009-DUP-List/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0009-DUP-List/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs css">&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab1 .
_:n988e0f11d19c486fa3b3255f94c9b3bab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab1 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab2 .
_:n988e0f11d19c486fa3b3255f94c9b3bab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab2 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab3 .
_:n988e0f11d19c486fa3b3255f94c9b3bab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"1"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab3 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/b&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab4 .
_:n988e0f11d19c486fa3b3255f94c9b3bab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab4 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab5 .
_:n988e0f11d19c486fa3b3255f94c9b3bab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"2"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab5 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab6 .
_:n988e0f11d19c486fa3b3255f94c9b3bab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"6"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab6 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .

&lt;http://example.com/base/e/c&gt; &lt;http://example.com/ns#with&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab7 .
_:n988e0f11d19c486fa3b3255f94c9b3bab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"7"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab7 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab8 .
_:n988e0f11d19c486fa3b3255f94c9b3bab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"8"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab8 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; _:n988e0f11d19c486fa3b3255f94c9b3bab9 .
_:n988e0f11d19c486fa3b3255f94c9b3bab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#first&gt; <span class="hljs-string">"9"</span> .
_:n988e0f11d19c486fa3b3255f94c9b3bab9 &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#nil&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0010-Lista"><div class="header-wrapper"><h2 id="x32-rmltc-cc-0010-lista"><bdi class="secno">32. </bdi>RMLTC-CC-0010-Lista</h2><a class="self-link" href="#RMLTC-CC-0010-Lista" aria-label="Permalink for Section 32."></a></div>
<p><strong>Title</strong>: Combining graph maps and gather maps (graph map has a template and gather map does not)</p>
<p><strong>Description</strong>: Tests the behavior of combining graph- and gather maps. In this example, a blank node for each list is expected.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0010-Lista/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0010-Lista/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:graphMap [ rml:template <span class="hljs-string">"g/{$.graph}"</span> ; ] ;
        rml:predicate ex:with ;
        rml:objectMap [
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; &lt;http://example.com/base/g/1&gt; .</span>
<span class="language-xml">&lt;http://example.com/base/e/a&gt;</span> &lt;http://example.com/ns#with&gt; _:genid1 &lt;http://example.com/base/g/1&gt; .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:genid2 &lt;http://example.com/base/g/1&gt; .

_:genidx1 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" &lt;http://example.com/base/g/2&gt; .
_:genidx1 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; &lt;http://example.com/base/g/2&gt; .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:genidx1 &lt;http://example.com/base/g/2&gt; .
</code></pre>
</section>
<section id="RMLTC-CC-0010-Listb"><div class="header-wrapper"><h2 id="x33-rmltc-cc-0010-listb"><bdi class="secno">33. </bdi>RMLTC-CC-0010-Listb</h2><a class="self-link" href="#RMLTC-CC-0010-Listb" aria-label="Permalink for Section 33."></a></div>
<p><strong>Title</strong>: Combining graph maps and gather maps (both graph map and gather map have a template)</p>
<p><strong>Description</strong>: Tests the behavior of combining graph- and gather maps. In this example, lists are concatinated in some named graphs via blank node identifiers constructed with templates.</p>
<p><strong>Error expected?</strong> No</p>
<p><strong>Input</strong>
 <a href="http://w3id.org/rml/resources/rml-io/RMLTC-CC-0010-Listb/Friends.json">http://w3id.org/rml/resources/rml-io/RMLTC-CC-0010-Listb/Friends.json</a></p>
<p><strong>Mapping</strong></p>
<pre><code aria-busy="false" class="hljs css"><span class="hljs-keyword">@prefix</span> <span class="hljs-attribute">rml</span>: &lt;<span class="hljs-attribute">http</span>://w3id.org/rml/&gt;.
@prefix <span class="hljs-attribute">rdf</span>: &lt;<span class="hljs-attribute">http</span>://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;.
@prefix <span class="hljs-attribute">ex</span>:  &lt;<span class="hljs-attribute">http</span>://example.com/ns#&gt;.
@base        &lt;<span class="hljs-attribute">http</span>://example.com/&gt;.

&lt;#TM&gt; a <span class="hljs-attribute">rml</span>:TriplesMap;
    rml:logicalSource [
        rml:source _:b738439 ;
        rml:referenceFormulation rml:JSONPath ;
        rml:iterator <span class="hljs-string">"$.*"</span> ;
    ] ;

    rml:subjectMap [
        rml:template <span class="hljs-string">"e/{$.id}"</span> ;
    ] ;

    rml:predicateObjectMap [
        rml:graphMap [ rml:template <span class="hljs-string">"g/{$.graph}"</span> ; ] ;
        rml:predicate ex:with ;
        rml:objectMap [
            rml:template <span class="hljs-string">"l/{$.id}"</span> ; rml:termType rml:BlankNode ;
            rml:gather ( [ rml:reference <span class="hljs-string">"$.values.*"</span> ; ] ) ;
            rml:gatherAs rdf:List ;
        ] ;
    ] ;
.

_:b738439 a rml:RelativePathSource ;
    rml:path <span class="hljs-string">"data.json"</span> .
</code></pre>
<p><strong>Output</strong></p>
<pre><code aria-busy="false" class="hljs javascript"><span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "1" &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid1 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; _:genid2 &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "3" &lt;http://example.com/base/g/1&gt; .</span>
<span class="hljs-attr">_</span>:genid2 &lt;<span class="hljs-attr">http</span>:<span class="hljs-comment">//www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; &lt;http://example.com/base/g/1&gt; .</span>
<span class="language-xml">&lt;http://example.com/base/e/a&gt;</span> &lt;http://example.com/ns#with&gt; _:genid1 &lt;http://example.com/base/g/1&gt; .

_:genidx1 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#first&gt; "2" &lt;http://example.com/base/g/2&gt; .
_:genidx1 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#rest&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#nil&gt; &lt;http://example.com/base/g/2&gt; .
&lt;http://example.com/base/e/a&gt; &lt;http://example.com/ns#with&gt; _:genidx1 &lt;http://example.com/base/g/2&gt; .
</code></pre>
</section>




<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>